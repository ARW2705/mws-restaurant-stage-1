"use strict";var cacheBaseName="restaurant-reviews",cacheStatic=cacheBaseName+"-static",cacheImages=cacheBaseName+"-images",version="v1.0.5";self.addEventListener("install",function(e){e.waitUntil(caches.open(cacheStatic+"-"+version).then(function(e){return console.log("install",e),e.addAll(["/","index.html","restaurant.html","css/styles.css","js/index.js","js/main.js","js/restaurant_info.js","img/icons/restaurant-icon-sm.png","img/map/staticmap.png"])}))}),self.addEventListener("fetch",function(a){a.respondWith(caches.match(a.request,{ignoreSearch:!0}).then(function(e){if(e)return e;var c=a.request.clone();return fetch(c).then(function(e){if(!e||200!==e.status||"basic"!==e.type)return e;var t=e.clone(),n=("image"===c.destination?cacheImages:cacheStatic)+"-"+version;return caches.open(n).then(function(e){e.put(a.request,t)}).catch(function(e){return console.log("uh-oh",e)}),e})}).catch(function(e){return console.log("uh-oh",e)}))}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return e.startsWith(cacheBaseName)&&!e.endsWith(version)}).map(function(e){return caches.delete(e)}))}).catch(function(e){return console.log("uh-oh",e)}))}),self.addEventListener("error",function(e){console.log("SW error",e)});